--- orig/cp2k-7.1/src/libint_wrapper_ori.F	2022-06-08 16:00:02.000000000 +0900
+++ spack-src/src/libint_wrapper.F	2022-06-08 16:02:24.000000000 +0900
@@ -32,8 +32,8 @@
       libint2_build, libint2_build_eri, libint2_build_eri1, libint2_cleanup_eri, &
       libint2_cleanup_eri1, libint2_init_eri, libint2_init_eri1, libint2_static_cleanup, &
       libint2_static_init, libint_t, libint2_max_am_eri, libint2_init_3eri, libint2_cleanup_3eri, &
-      libint2_init_2eri, libint2_cleanup_2eri!,&
-   !libint2_build_3eri
+      libint2_init_2eri, libint2_cleanup_2eri, &
+      libint2_build_2eri, libint2_build_3eri
 #endif
    USE orbital_pointers, ONLY: nco
 #include "./base/base_uses.f90"
@@ -78,10 +78,10 @@
    !dimensions of the following array are mixed up. This should be fixed from libint 2.6 on.
    !Then, one will be able to simply USE libint2_build_3eri & libint2_build_2eri, as currently
    !commented above
-   TYPE(C_FUNPTR), DIMENSION(0:LIBINT2_MAX_AM, 0:LIBINT2_MAX_AM, 0:LIBINT2_MAX_AM_3eri), &
-      BIND(C) :: libint2_build_3eri
-   TYPE(C_FUNPTR), DIMENSION(0:LIBINT2_MAX_AM_2eri, 0:LIBINT2_MAX_AM_2eri), &
-      BIND(C) :: libint2_build_2eri
+!   TYPE(C_FUNPTR), DIMENSION(0:LIBINT2_MAX_AM, 0:LIBINT2_MAX_AM, 0:LIBINT2_MAX_AM_3eri), &
+!      BIND(C) :: libint2_build_3eri
+!   TYPE(C_FUNPTR), DIMENSION(0:LIBINT2_MAX_AM_2eri, 0:LIBINT2_MAX_AM_2eri), &
+!      BIND(C) :: libint2_build_2eri
 #endif
 
 CONTAINS

--- orig/cp2k-8.1/src/mp2_eri_ori.f	2022-04-17 21:16:55.000000000 +0900
+++ spack-src/src/mp2_eri.F	2022-04-17 21:17:30.000000000 +0900
@@ -1,3 +1,4 @@
+!options -O1
 !--------------------------------------------------------------------------------------------------!
 !   CP2K: A general program to perform molecular dynamics simulations                              !
 !   Copyright (C) 2000 - 2019  CP2K developers group                                               !
