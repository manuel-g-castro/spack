# for compute nodes

spack:
  definitions:
    #
    # packages to be compiled with fj
    #
    - fjs:
      - adios2 %fj
#      - alps %fj # cannot be installed
      - bcftools %fj
      - bedtools2 %fj
      - biobambam2 %fj
      - boost %fj
      - bwa %fj
      - cblas %fj
      - cmake %fj
#      - cp2k %fj # cannot be installed
      - dssp %fj
      - eigenexa %fj
      - fujitsu-fftw %fj
      - fujitsu-ssl2 %fj
      - genesis %fj
      - grads %fj
      - hdf5 %fj +cxx+fortran
      - htslib@1.12 %fj
      - julia %fj
      - lis %fj
#      - mapsplice2 %fj ^samtools/xxxx
      - metis %fj
      - mesa %fj ^llvm/xxxxx # to avoid a concretization error in llvm
      - mptensor %fj
      - netcdf-c %fj
      - netcdf-cxx %fj
      - netcdf-cxx4 %fj
      - netcdf-fortran %fj
      - netlib-scalapack %fj
      - openblas %fj
      - openjdk %fj
      - openmx %fj
      - parallel-netcdf %fj
#      - paraview+osmesa+python3 %fj ^mesa/xxxxx
      - parmetis %fj
      - petsc%fj
      - pfapack %fj
      - picard %fj
      - povray %fj ~mkl ^boost@1.74.0
      - py-ase %fj
      - py-dask %fj
      - py-h5py %fj
      - py-jupyterhub %fj
      - py-keras %fj
      - py-matplotlib %fj
      - py-netcdf4 %fj
      - py-numpy %fj
      - py-pandas %fj
      - py-pip %fj
      - py-pydmd %fj
      - py-pygps %fj
#      - py-pysam %fj ^samtools/xxxx ^py-setuptools@57.4.0 # can be installed with setuptools@57.4.0 or older
      - py-scikit-learn %fj
      - py-scipy %fj
      - py-seaborn %fj
      - py-toml %fj
      - py-xarray %fj
      - r %fj
      - raja %fj
      - rdkit %fj
      - samtools %fj ^ncurses@6.2 ^htslib@1.12 # "because ncurses-dev in /usr is incomplete"
      - screen %fj
      - star %fj
      - suite-sparse %fj
      - tmux %fj
#      - xios %fj # cannot be installed

    #
    # packages to be compiled with gcc
    #
    - gccs:
      - fujitsu-mpi %gcc
      - gcc %gcc
#      - process-in-process@2 %gcc # cannot be installed
#      - process-in-process@3 %gcc # cannot be installed

    #
    # packages from local-repo ("Fugaku" packages)
    #
    - local_repo:
      - abinitmp %fj
      - blitz %fj
      - fujitsu-mpi %fj
      - improved-rdock %fj
      - kokkos %fj +openmp
      - llvm %gcc ^hwloc@1.11.13 ^binutils@2.37~nls # "because neither hwloc-dev nor binutils+ld in /usr"
      - llvm %fj ^hwloc@1.11.13 ^binutils@2.37~nls  # "because neither hwloc-dev nor binutils+ld in /usr"
      - mpich-tofu %fj +mt
      - mpich-tofu %fj ~mt
      - mpich-tofu %gcc +mt
      - mpich-tofu %gcc ~mt
      - n2p2 %fj
      - netlib-lapack %fj
      - ntchem %fj
      - py-mpi4py %fj
      - scale %fj

  specs:
    - $fjs
    - $gccs
    - $local_repo
    

