# for compute nodes

spack:
  definitions:
    #
    # packages to be compiled with fj
    #
    - fjs:
      - adios2 %fj
      - alps %fj #^openblas ldflags=-L/opt/FJSVxtclanga/tcsds-1.2.29/lib64 ldlibs='-lfj90i -lfj90f -lfjsrcinfo -lelf'
      - bcftools %fj
      - bedtools2 %fj
      - blitz %fj
      - boost %fj
      - bwa %fj
      - cblas %fj
      - cmake %fj
#      - cp2k %fj
      - dssp %fj
      - eigenexa %fj
      - fujitsu-fftw %fj
      - fujitsu-mpi %fj
      - fujitsu-ssl2 %fj
      - genesis %fj
      - grads %fj
      - hdf5 %fj +cxx+fortran
      - htslib %fj
      - julia %fj
      - lis %fj
#      - llvm %fj
      - lz4 %fj
      - mapsplice2 %fj
      - metis %fj
      - mptensor %fj
      - n2p2 %fj
      - netcdf-c %fj
      - netcdf-cxx %fj
      - netcdf-cxx4 %fj
      - netcdf-fortran %fj
      - netlib-lapack %fj
      - netlib-scalapack %fj #^openblas ldflags=-L/opt/FJSVxtclanga/tcsds-1.2.29/lib64 ldlibs='-lfj90i -lfj90f -lfjsrcinfo -lelf'
      - openblas %fj #ldflags=-L/opt/FJSVxtclanga/tcsds-1.2.29/lib64 ldlibs='-lfj90i -lfj90f -lfjsrcinfo -lelf'
      - openjdk %fj
      - parallel-netcdf %fj
      - paraview+osmesa %fj
      - paraview+qt %fj
      - parmetis %fj
      - petsc%fj
      - pfapack %fj #^openblas ldflags=-L/opt/FJSVxtclanga/tcsds-1.2.29/lib64 ldlibs='-lfj90i -lfj90f -lfjsrcinfo -lelf'
      - picard %fj
      - povray %fj ~mkl
      - py-dask %fj
      - py-h5py %fj
      - py-jupyterhub %fj
      - py-keras %fj #^openblas ldflags=-L/opt/FJSVxtclanga/tcsds-1.2.29/lib64 ldlibs='-lfj90i -lfj90f -lfjsrcinfo -lelf'
      - py-mpi4py %fj
      - py-netcdf4 %fj
      - py-numpy %fj #^openblas ldflags=-L/opt/FJSVxtclanga/tcsds-1.2.29/lib64 ldlibs='-lfj90i -lfj90f -lfjsrcinfo -lelf'
      - py-pydmd %fj #^openblas ldflags=-L/opt/FJSVxtclanga/tcsds-1.2.29/lib64 ldlibs='-lfj90i -lfj90f -lfjsrcinfo -lelf'
      - py-pygps %fj #^openblas ldflags=-L/opt/FJSVxtclanga/tcsds-1.2.29/lib64 ldlibs='-lfj90i -lfj90f -lfjsrcinfo -lelf'
      - py-pysam %fj
      - py-scikit-learn %fj #^openblas ldflags=-L/opt/FJSVxtclanga/tcsds-1.2.29/lib64 ldlibs='-lfj90i -lfj90f  -lfjsrcinfo -lelf'
      - py-scipy %fj #^openblas ldflags=-L/opt/FJSVxtclanga/tcsds-1.2.29/lib64 ldlibs='-lfj90i -lfj90f -lfjsrcinfo -lelf'
      - py-seaborn %fj #^openblas ldflags=-L/opt/FJSVxtclanga/tcsds-1.2.29/lib64 ldlibs='-lfj90i -lfj90f -lfjsrcinfo -lelf'
      - py-xarray %fj
      - r %fj
      - raja %fj
      - samtools %fj
      - screen %fj
      - star %fj
      - tmux %fj
      - xios %fj

    #
    # packages to be compiled with gcc
    #
    - gccs:
      - fujitsu-mpi %gcc
      - gcc %gcc
      - process-in-process@2 %gcc
      - process-in-process@3 %gcc
#      - mesa %gcc ^binutils+ld+plugins

    #
    # packages from local-repo ("Fugaku" packages)
    #
    - local_repo:
      - abinitmp %fj
      - kokkos@3.1.01 %fj +openmp
      - llvm %gcc
      - mpich-tofu %fj +mt
      - mpich-tofu %fj ~mt
      - mpich-tofu %gcc +mt
      - mpich-tofu %gcc ~mt
      - ntchem %fj
      - scale %fj

  specs:
    - $fjs
    - $gccs
    - $local_repo
    

