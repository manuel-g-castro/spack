# for compute nodes

spack:
  definitions:
    #
    # packages to be compiled with fj
    #
    - fjs:
      - adios2 %fj
      - alps %fj
      - bcftools %fj
      - bedtools2 %fj
      - blitz %fj
      - boost %fj
      - bwa %fj
      - cblas %fj
      - cmake %fj
#      - cp2k %fj
      - dssp %fj
      - eigenexa %fj
      - fujitsu-fftw %fj
      - fujitsu-mpi %fj
      - fujitsu-ssl2 %fj
      - genesis %fj
      - grads %fj
      - hdf5 %fj +cxx+fortran
      - htslib %fj
      - julia %fj
      - lis %fj
#      - llvm %fj
#      - lz4 %fj
      - mapsplice2 %fj ^samtools/xxxx
      - metis %fj
      - mptensor %fj
      - n2p2 %fj
      - netcdf-c %fj
      - netcdf-cxx %fj
      - netcdf-cxx4 %fj
      - netcdf-fortran %fj
      - netlib-lapack %fj
      - netlib-scalapack %fj
      - openblas %fj
      - openjdk %fj
      - parallel-netcdf %fj
      - paraview+osmesa+python3 %fj
      - parmetis %fj
      - petsc%fj
      - pfapack %fj
      - picard %fj
      - povray %fj ~mkl
      - py-ase %fj
      - py-dask %fj
      - py-h5py %fj
      - py-jupyterhub %fj
      - py-keras %fj
      - py-mpi4py %fj
      - py-netcdf4 %fj
      - py-numpy %fj
      - py-pydmd %fj
      - py-pygps %fj
      - py-pysam %fj ^samtools/xxxx
      - py-scikit-learn %fj
      - py-scipy %fj
      - py-seaborn %fj
      - py-xarray %fj
      - r %fj
      - raja %fj
      - samtools %fj ^ncurses@6.2 # "because ncurses-dev in /usr is incomplete"
      - screen %fj
      - star %fj
      - tmux %fj
      - xios %fj

    #
    # packages to be compiled with gcc
    #
    - gccs:
      - fujitsu-mpi %gcc
      - gcc %gcc
      - process-in-process@2 %gcc
      - process-in-process@3 %gcc

    #
    # packages from local-repo ("Fugaku" packages)
    #
    - local_repo:
      - abinitmp %fj
      - kokkos %fj +openmp
      - llvm %gcc ^hwloc@1.11.9 ^binutils@XXXX~nls # "because neither hwloc-dev nor binutils+ld in /usr"
      - mpich-tofu %fj +mt
      - mpich-tofu %fj ~mt
      - mpich-tofu %gcc +mt
      - mpich-tofu %gcc ~mt
      - ntchem %fj
      - scale %fj

  specs:
    - $fjs
    - $gccs
    - $local_repo
    

